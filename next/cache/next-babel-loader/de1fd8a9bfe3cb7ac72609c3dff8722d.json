{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/imransayed/Projects/woo-next/pages/category.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\" query Product_Category( $id: ID ! ) {\\n\\t\\t\\tproductCategory( id: $id ) {\\n\\t\\t\\t\\t\\t\\tname\\n\\t\\t\\t\\t\\t\\tproducts {\\n\\t\\t\\t\\t\\t\\t\\t  edges {\\n\\t\\t\\t\\t\\t\\t\\t    node {\\n\\t\\t\\t\\t\\t\\t\\t        id\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tproductId\\n\\t\\t\\t\\t\\t\\t\\t\\t\\taverageRating\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tslug\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdescription\\n\\t\\t\\t\\t\\t\\t\\t\\t\\timage {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\turi\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsrcSet\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tsourceUrl\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\t\\t\\t    }\\n\\t\\t\\t\\t\\t\\t  }\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\t }\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Layout from \"../components/Layout\";\nimport { withRouter } from 'next/router';\nimport client from \"../components/ApolloClient\";\nimport gql from 'graphql-tag';\nimport Product from \"../components/Product\";\nvar PRODUCT_BY_CATEGORY_ID = gql(_templateObject());\nvar Category = withRouter(function (props) {\n  var categoryName = props.categoryName,\n      products = props.products;\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, categoryName ? __jsx(\"h3\", {\n    className: \"product-container pl-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, categoryName) : '', __jsx(\"div\", {\n    className: \"product-container row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, undefined !== products && products.length ? products.map(function (product) {\n    return __jsx(Product, {\n      key: product.node.id,\n      product: product.node,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    });\n  }) : ''));\n});\n\nCategory.getInitialProps = function _callee(context) {\n  var slug, id, res;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          slug = context.query.slug;\n          id = slug ? slug.split('-').pop() : context.query.id;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(client.query({\n            query: PRODUCT_BY_CATEGORY_ID,\n            variables: {\n              id: id\n            }\n          }));\n\n        case 4:\n          res = _context.sent;\n          return _context.abrupt(\"return\", {\n            categoryName: res.data.productCategory.name,\n            products: res.data.productCategory.products.edges\n          });\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, _Promise);\n};\n\nexport default Category;","map":{"version":3,"sources":["/Users/imransayed/Projects/woo-next/pages/category.js"],"names":["Layout","withRouter","client","gql","Product","PRODUCT_BY_CATEGORY_ID","Category","props","categoryName","products","undefined","length","map","product","node","id","getInitialProps","context","slug","query","split","pop","variables","res","data","productCategory","name","edges"],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,IAAMC,sBAAsB,GAAGF,GAAH,mBAA5B;AA0BA,IAAMG,QAAQ,GAAGL,UAAU,CAAE,UAAAM,KAAK,EAAI;AAAA,MAE7BC,YAF6B,GAEFD,KAFE,CAE7BC,YAF6B;AAAA,MAEfC,QAFe,GAEFF,KAFE,CAEfE,QAFe;AAIrC,SACC,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,YAAY,GAAG;AAAI,IAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyCA,YAAzC,CAAH,GAAkE,EADjF,EAEC;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,SAAS,KAAKD,QAAd,IAA0BA,QAAQ,CAACE,MAAnC,GACDF,QAAQ,CAACG,GAAT,CAAc,UAAAC,OAAO;AAAA,WAAI,MAAC,OAAD;AAAS,MAAA,GAAG,EAAGA,OAAO,CAACC,IAAR,CAAaC,EAA5B;AAAiC,MAAA,OAAO,EAAGF,OAAO,CAACC,IAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ;AAAA,GAArB,CADC,GAEE,EAHL,CAFD,CADD;AAUA,CAd0B,CAA3B;;AAgBAR,QAAQ,CAACU,eAAT,GAA2B,iBAAgBC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEXC,UAAAA,IAFW,GAEAD,OAFA,CAEpBE,KAFoB,CAEXD,IAFW;AAIpBH,UAAAA,EAJoB,GAIfG,IAAI,GAAGA,IAAI,CAACE,KAAL,CAAY,GAAZ,EAAkBC,GAAlB,EAAH,GAA6BJ,OAAO,CAACE,KAAR,CAAcJ,EAJhC;AAAA;AAAA,2CAMRb,MAAM,CAACiB,KAAP,CAAc;AAC/BA,YAAAA,KAAK,EAAEd,sBADwB;AAE/BiB,YAAAA,SAAS,EAAE;AAAEP,cAAAA,EAAE,EAAFA;AAAF;AAFoB,WAAd,CANQ;;AAAA;AAMpBQ,UAAAA,GANoB;AAAA,2CAWnB;AACNf,YAAAA,YAAY,EAAEe,GAAG,CAACC,IAAJ,CAASC,eAAT,CAAyBC,IADjC;AAENjB,YAAAA,QAAQ,EAAEc,GAAG,CAACC,IAAJ,CAASC,eAAT,CAAyBhB,QAAzB,CAAkCkB;AAFtC,WAXmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA3B;;AAkBA,eAAerB,QAAf","sourcesContent":["import Layout from \"../components/Layout\";\nimport { withRouter } from 'next/router';\nimport client from \"../components/ApolloClient\";\nimport gql from 'graphql-tag';\nimport Product from \"../components/Product\";\n\nconst PRODUCT_BY_CATEGORY_ID = gql` query Product_Category( $id: ID ! ) {\n\t\t\tproductCategory( id: $id ) {\n\t\t\t\t\t\tname\n\t\t\t\t\t\tproducts {\n\t\t\t\t\t\t\t  edges {\n\t\t\t\t\t\t\t    node {\n\t\t\t\t\t\t\t        id\n\t\t\t\t\t\t\t\t\tproductId\n\t\t\t\t\t\t\t\t\taverageRating\n\t\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\t\t\t\turi\n\t\t\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\t\t\tsrcSet\n\t\t\t\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t  }\n\t\t\t\t\t}\n\n\t\t\t}\n\t }`;\n\nconst Category = withRouter( props => {\n\n\tconst { categoryName, products } = props;\n\n\treturn (\n\t\t<Layout>\n\t\t\t{ categoryName ? <h3 className=\"product-container pl-5\">{ categoryName }</h3> : '' }\n\t\t\t<div className=\"product-container row\">\n\t\t\t\t{ undefined !== products && products.length ? (\n\t\t\t\t\tproducts.map( product => <Product key={ product.node.id } product={ product.node } /> )\n\t\t\t\t) : ''}\n\t\t\t</div>\n\t\t</Layout>\n\t)\n});\n\nCategory.getInitialProps = async function( context ) {\n\n\tlet { query: { slug } } = context;\n\n\tconst id = slug ? slug.split( '-' ).pop() : context.query.id;\n\n\tconst res = await client.query(({\n\t\tquery: PRODUCT_BY_CATEGORY_ID,\n\t\tvariables: { id }\n\t}));\n\n\treturn {\n\t\tcategoryName: res.data.productCategory.name,\n\t\tproducts: res.data.productCategory.products.edges\n\t}\n\n};\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}