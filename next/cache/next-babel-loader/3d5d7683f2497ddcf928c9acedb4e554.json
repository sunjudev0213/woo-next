{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useContext } from 'react';\nimport { AppContext } from \"../context/AppContext\";\nimport { addFirstProduct, updateCart } from \"../../functions\";\nimport Link from 'next/link';\n\nvar AddToCartButton = function AddToCartButton(props) {\n  var product = props.product;\n\n  var _useContext = useContext(AppContext),\n      cart = _useContext[0],\n      setCart = _useContext[1];\n\n  var _useState = useState(false),\n      showViewCart = _useState[0],\n      setShowViewCart = _useState[1];\n  /**\n   * Handles adding items to the cart.\n   *\n   * @return {void}\n   */\n\n\n  var handleAddToCartClick = function handleAddToCartClick() {\n    // If component is rendered client side.\n    if (true) {\n      var existingCart = localStorage.getItem('woo-next-cart'); // If cart has item(s) already, update existing or add new item.\n\n      if (existingCart) {\n        existingCart = JSON.parse(existingCart);\n        var qtyToBeAdded = 1;\n        var updatedCart = updateCart(existingCart, product, qtyToBeAdded);\n        setCart(updatedCart);\n      } else {\n        /**\n         * If No Items in the cart, create an empty array and add one.\n         * @type {Array}\n         */\n        var newCart = addFirstProduct(product);\n        setCart(newCart);\n      } // Show View Cart Button\n\n\n      setShowViewCart(true);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"button\", {\n    onClick: handleAddToCartClick,\n    className: \"btn btn-secondary\"\n  }, \"Add to cart\"), showViewCart ? __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(\"button\", {\n    className: \"woo-next-view-cart-btn btn btn-secondary\"\n  }, \"View Cart\")) : '');\n};\n\nexport default AddToCartButton;","map":null,"metadata":{},"sourceType":"module"}