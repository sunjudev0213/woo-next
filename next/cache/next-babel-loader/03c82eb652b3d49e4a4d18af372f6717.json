{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/Layout\";\nimport Product from \"../components/Product\";\nimport client from '../components/ApolloClient';\nimport gql from 'graphql-tag';\nimport ParentCategoriesBlock from \"../components/category/category-block/ParentCategoriesBlock\";\n/**\n * GraphQL categories and products query.\n */\n\nconst PRODUCTS_AND_CATEGORIES_QUERY = gql`query {\n\n\t\t\t\t\tproductCategories(first: 3) {\n\t\t\t\t\t\tnodes {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t\tsrcSet\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t  products(first: 50) {\n\t\t\t\t\t    nodes {\n\t\t\t\t\t      id\n\t\t\t\t\t      productId\n\t\t\t\t\t      averageRating\n\t\t\t\t\t      slug\n\t\t\t\t\t      description\n\t\t\t\t\t      image {\n\t\t\t\t\t        uri\n\t\t\t\t\t        title\n\t\t\t\t\t        srcSet\n\t\t\t\t\t        sourceUrl\n\t\t\t\t\t      }\n\t\t\t\t\t      name\n\t\t\t\t\t      ... on SimpleProduct {\n\t\t\t\t\t        price\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t      ... on VariableProduct {\n\t\t\t\t\t        price\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t      ... on ExternalProduct {\n\t\t\t\t\t        price\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t      ... on GroupProduct {\n\t\t\t\t\t        products {\n\t\t\t\t\t          nodes {\n\t\t\t\t\t            ... on SimpleProduct {\n\t\t\t\t\t              price\n\t\t\t\t\t            }\n\t\t\t\t\t          }\n\t\t\t\t\t        }\n\t\t\t\t\t        id\n\t\t\t\t\t      }\n\t\t\t\t\t    }\n\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t}`;\n\nconst Index = props => {\n  const {\n    products,\n    productCategories\n  } = props;\n  console.warn(products, productCategories);\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"mt-5 text-center\"\n  }, __jsx(\"h2\", null, \"Categories\"), __jsx(ParentCategoriesBlock, {\n    productCategories: productCategories\n  })), __jsx(\"h2\", {\n    className: \"mt-5 text-center\"\n  }, \"Products\"), __jsx(\"div\", {\n    className: \"product-container row\"\n  }, products.length ? products.map(product => __jsx(Product, {\n    key: product.id,\n    product: product\n  })) : ''));\n};\n\nIndex.getInitialProps = async () => {\n  const result = await client.query({\n    query: PRODUCTS_AND_CATEGORIES_QUERY\n  });\n  return {\n    productCategories: result.data.productCategories.nodes,\n    products: result.data.products.nodes\n  };\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}